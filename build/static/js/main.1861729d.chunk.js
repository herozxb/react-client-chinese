(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="},315:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII="},328:function(e,t,n){e.exports=n(575)},334:function(e,t,n){},532:function(e,t){},535:function(e,t,n){},569:function(e,t,n){},570:function(e,t,n){},571:function(e,t,n){},572:function(e,t,n){},573:function(e,t,n){},574:function(e,t,n){},575:function(e,t,n){"use strict";n.r(t);var a=n(77),r=n.n(a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(0),c=n.n(o),l=n(27),m=n(66),s=n(589),i=(n(333),n(334),n(18)),u=n(108),d=n(282),p=n.n(d),E={user:null,id:null};if(localStorage.getItem("jwtToken")){var b=p()(localStorage.getItem("jwtToken"));1e3*b.exp<Date.now()?localStorage.removeItem("jwtToken"):E.user=b}var g=Object(o.createContext)({user:null,id:null,login:function(e){},logout:function(){}});function f(e,t){switch(console.log("=========1.2========"),console.log(t.payload),console.log("=========1.3========"),t.type){case"LOGIN":return Object(u.a)({},e,{user:t.payload,id:t.payload});case"LOGOUT":return Object(u.a)({},e,{user:null});default:return e}}function v(e){var t=Object(o.useReducer)(f,E),n=Object(i.a)(t,2),a=n[0],r=n[1];return c.a.createElement(g.Provider,Object.assign({value:{user:a.user,id:a.id,login:function(e){console.log("=========1.1========"),console.log(e),localStorage.setItem("jwtToken",e.token),r({type:"LOGIN",payload:e})},logout:function(){localStorage.removeItem("jwtToken"),r({type:"LOGOUT"})}}},e))}var h=n(283);var j=function(e){var t=e.component,n=Object(h.a)(e,["component"]),a=Object(o.useContext)(g).user;return c.a.createElement(m.b,Object.assign({},n,{render:function(e){return a?c.a.createElement(m.a,{to:"/"}):c.a.createElement(t,e)}}))},C=n(595);var O=function(){var e=Object(o.useContext)(g),t=e.user,n=e.logout,a=window.location.pathname,r="/"===a?"home":a.substr(1),m=Object(o.useState)(r),s=Object(i.a)(m,2),u=s[0],d=s[1],p=function(e,t){var n=t.name;return d(n)};return t?c.a.createElement(C.a,{pointing:!0,size:"massive",color:"teal"},c.a.createElement(C.a.Item,{name:t.username,active:!0,as:l.b,to:"/"}),c.a.createElement(C.a.Menu,{position:"right"},c.a.createElement(C.a.Item,{name:"\u4e2a\u4eba\u4e3b\u9875",active:"profile"===u,onClick:p,as:l.b,to:"/profile"}),c.a.createElement(C.a.Item,{name:"\u767b\u51fa",onClick:n}))):c.a.createElement(C.a,{pointing:!0,size:"massive",color:"teal"},c.a.createElement(C.a.Item,{name:"\u4e3b\u9875",active:"home"===u,onClick:p,as:l.b,to:"/"}),c.a.createElement(C.a.Menu,{position:"right"},c.a.createElement(C.a.Item,{name:"\u767b\u5165",active:"login"===u,onClick:p,as:l.b,to:"/login"}),c.a.createElement(C.a.Item,{name:"\u6ce8\u518c",active:"register"===u,onClick:p,as:l.b,to:"/register"})))},y=n(26),A=n(596),I=n(599),k=n(594),w=n(316),S=n(577),N=n(81),x=n(110),$=n(80),P=n.n($),D=n(22),B=n(23),M=n.n(B),_=n(593);var R=function(e){var t=e.content,n=e.children;return c.a.createElement(_.a,{inverted:!0,content:t,trigger:n})};function L(){var e=Object(D.a)(["\n  mutation likePost($postId: ID!) {\n    likePost(postId: $postId) {\n      id\n      likes {\n        id\n        username\n      }\n      likeCount\n    }\n  }\n"]);return L=function(){return e},e}var Q=M()(L()),U=function(e){var t=e.user,n=e.post,a=n.id,r=n.likeCount,m=n.likes,s=Object(o.useState)(!1),u=Object(i.a)(s,2),d=u[0],p=u[1];Object(o.useEffect)(function(){t&&m.find(function(e){return e.username===t.username})?p(!0):p(!1)},[t,m]);var E=Object(y.a)(Q,{variables:{postId:a}}),b=Object(i.a)(E,1)[0],g=t?d?c.a.createElement(S.a,{color:"teal"},c.a.createElement(N.a,{name:"heart"})):c.a.createElement(S.a,{color:"teal",basic:!0},c.a.createElement(N.a,{name:"heart"})):c.a.createElement(S.a,{as:l.b,to:"/login",color:"teal",basic:!0},c.a.createElement(N.a,{name:"heart"}));return c.a.createElement(S.a,{as:"div",labelPosition:"right",onClick:b},c.a.createElement(R,{content:d?"Unlike":"Like"},g),c.a.createElement(x.a,{basic:!0,color:"teal",pointing:"left"},r))},T=n(591);function G(){var e=Object(D.a)(["\n  {\n    getPosts {\n      id\n      body\n      createdAt\n      username\n      likeCount\n      likes {\n        username\n      }\n      commentCount\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n    }\n  }\n"]);return G=function(){return e},e}var q=M()(G());function Y(){var e=Object(D.a)(["\n  mutation deleteComment($postId: ID!, $commentId: ID!) {\n    deleteComment(postId: $postId, commentId: $commentId) {\n      id\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n      commentCount\n    }\n  }\n"]);return Y=function(){return e},e}function V(){var e=Object(D.a)(["\n  mutation deletePost($postId: ID!) {\n    deletePost(postId: $postId)\n  }\n"]);return V=function(){return e},e}var F=M()(V()),J=M()(Y()),K=function(e){var t=e.postId,n=e.commentId,a=e.callback,r=Object(o.useState)(!1),l=Object(i.a)(r,2),m=l[0],s=l[1],u=n?J:F,d=Object(y.a)(u,{update:function(e){if(s(!1),!n){var r=e.readQuery({query:q});r.getPosts=r.getPosts.filter(function(e){return e.id!==t}),e.writeQuery({query:q,data:r})}a&&a()},variables:{postId:t,commentId:n}}),p=Object(i.a)(d,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(R,{content:n?"Delete comment":"Delete post"},c.a.createElement(S.a,{as:"div",color:"red",floated:"right",onClick:function(){return s(!0)}},c.a.createElement(N.a,{name:"trash",style:{margin:0}}))),c.a.createElement(T.a,{open:m,onCancel:function(){return s(!1)},onConfirm:p}))};var W=function(e){var t=e.post,n=t.body,a=t.createdAt,r=t.id,m=t.username,s=t.likeCount,i=t.commentCount,u=t.likes,d=Object(o.useContext)(g).user;return c.a.createElement(k.a,{fluid:!0},c.a.createElement(k.a.Content,null,c.a.createElement(w.a,{floated:"right",size:"mini",src:"https://react.semantic-ui.com/images/avatar/large/molly.png"}),c.a.createElement(k.a.Header,null,m),c.a.createElement(k.a.Meta,{as:l.b,to:"/posts/".concat(r)},P()(a).fromNow(!0)),c.a.createElement(k.a.Description,null,n)),c.a.createElement(k.a.Content,null,c.a.createElement("iframe",{src:"//player.bilibili.com/player.html?aid=8438275&bvid=BV1hx41117tE&cid=13892333&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true"}," ")),c.a.createElement(k.a.Content,{extra:!0},c.a.createElement(U,{user:d,post:{id:r,likes:u,likeCount:s}}),c.a.createElement(R,{content:"Comment on post"},c.a.createElement(S.a,{labelPosition:"right",as:l.b,to:"/posts/".concat(r)},c.a.createElement(S.a,{color:"blue",basic:!0},c.a.createElement(N.a,{name:"comments"})),c.a.createElement(x.a,{basic:!0,color:"blue",pointing:"left"},i))),d&&d.username===m&&c.a.createElement(K,{postId:r})))},z=n(151),H=n(590),X=n(35),Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(o.useState)(t),a=Object(i.a)(n,2),r=a[0],c=a[1];return{onChange:function(e){c(Object(u.a)({},r,Object(X.a)({},e.target.name,e.target.value)))},onSubmit:function(t){t.preventDefault(),e()},values:r}};function ee(){var e=Object(D.a)(["\n  mutation createPost($body: String!) {\n    createPost(body: $body) {\n      id\n      body\n      createdAt\n      username\n      likes {\n        id\n        username\n        createdAt\n      }\n      likeCount\n      comments {\n        id\n        body\n        username\n        createdAt\n      }\n      commentCount\n    }\n  }\n"]);return ee=function(){return e},e}var te=M()(ee()),ne=function(){var e=Z(function(){l()},{body:""}),t=e.values,n=e.onChange,a=e.onSubmit,r=Object(y.a)(te,{variables:t,update:function(e,n){var a=e.readQuery({query:q});a.getPosts=[n.data.createPost].concat(Object(z.a)(a.getPosts)),e.writeQuery({query:q,data:a}),t.body=""}}),o=Object(i.a)(r,2),l=o[0],m=o[1].error;return c.a.createElement(c.a.Fragment,null,c.a.createElement(H.a,{onSubmit:a},c.a.createElement("h2",null,"\u8f93\u5165\u535a\u6587:"),c.a.createElement(H.a.Field,null,c.a.createElement(H.a.Input,{placeholder:"\u4e16\u754c \u4f60\u597d!",name:"body",onChange:n,value:t.body,error:!!m}),c.a.createElement(S.a,{type:"submit",color:"teal"},"\u53d1\u5e03"))),m&&c.a.createElement("div",{className:"ui error message",style:{marginBottom:20}},c.a.createElement("ul",{className:"list"},c.a.createElement("li",null,m.graphQLErrors[0].message))))};var ae=function(){var e=Object(o.useContext)(g).user,t=Object(y.b)(q),n=t.loading,a=t.data.getPosts;return c.a.createElement(A.a,{columns:1},c.a.createElement(A.a.Row,null,e&&c.a.createElement(A.a.Column,null,c.a.createElement(ne,null)),n?c.a.createElement("h1",null,"\u8bfb\u53d6 \u535a\u6587..."):c.a.createElement(I.a.Group,null,a&&a.map(function(e){return c.a.createElement(A.a.Column,{key:e.id,style:{marginBottom:20}},c.a.createElement(W,{post:e}))}))))},re=n(588),oe=n(597);function ce(){var e=Object(D.a)(["\n  query($username: String!) {\n    getUserPosts(username: $username) {\n      id\n      body\n      createdAt\n      username\n      likeCount\n      likes {\n        username\n      }\n      commentCount\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n    }\n  }\n"]);return ce=function(){return e},e}function le(){var e=Object(D.a)(["\n  query($postId: ID!) {\n    getPost(postId: $postId) {\n      id\n      body\n      createdAt\n      username\n      likeCount\n      likes {\n        username\n      }\n      commentCount\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n    }\n  }\n"]);return le=function(){return e},e}function me(){var e=Object(D.a)(["\n  mutation($postId: String!, $body: String!) {\n    createComment(postId: $postId, body: $body) {\n      id\n      comments {\n        id\n        body\n        createdAt\n        username\n      }\n      commentCount\n    }\n  }\n"]);return me=function(){return e},e}function se(){var e=Object(D.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      id\n      email\n      username\n      createdAt\n      token\n    }\n  }\n"]);return se=function(){return e},e}M()(se()),M()(me()),M()(le());var ie=M()(ce()),ue=function(e){var t=Object(o.useContext)(g),n=null,a=null;null===t.user?(n="default",a=!0):(n=t.user.username,a=!1,t.user.createdAt);var r,m=Object(y.b)(ie,{variables:{username:n}}),s=m.loading,u=m.data.getUserPosts,d=Object(o.useState)("home"),p=Object(i.a)(d,2),E=p[0],b=p[1],f=function(e){b(e)};if(u){var v;u.id,u.body,u.createdAt,u.username,u.comments,u.likes,u.likeCount,u.commentCount,r=c.a.createElement("div",null,a?c.a.createElement("h1",null,"You are not logged in..."):c.a.createElement(A.a,{centered:!0},c.a.createElement(A.a.Column,{centered:!0,width:20},c.a.createElement(C.a,{pointing:!0,overlay:!0},c.a.createElement(C.a.Item,(v={name:"home",active:!0,as:l.b,to:"/join"},Object(X.a)(v,"active","home"===E),Object(X.a)(v,"onClick",function(){return f("home")}),v)),c.a.createElement(C.a.Item,{name:"messages",active:"messages"===E,onClick:function(){return f("messages")}}),c.a.createElement(C.a.Item,{name:"friends",active:"friends"===E,onClick:function(){return f("friends")}}),c.a.createElement(C.a.Menu,{position:"right"},c.a.createElement(C.a.Item,null,c.a.createElement(re.a,{icon:"search",placeholder:"Search..."})))),c.a.createElement(oe.a,null,c.a.createElement("img",{src:"/images/wireframe/paragraph.png"})),c.a.createElement(k.a,null,c.a.createElement(w.a,{src:"https://react.semantic-ui.com/images/avatar/large/daniel.jpg",wrapped:!0,ui:!1}),c.a.createElement(k.a.Content,null,c.a.createElement(k.a.Header,null,t.user.username),c.a.createElement(k.a.Meta,null,P()(t.user.createdAt).fromNow(!0)),c.a.createElement(k.a.Description,null,"Daniel is a comedian living in Nashville.")),c.a.createElement(k.a.Content,{extra:!0},c.a.createElement("a",null,c.a.createElement(N.a,{name:"user"}),"10 Friends"))),c.a.createElement(A.a.Row,null,t.user&&c.a.createElement(A.a.Column,null,c.a.createElement(ne,null)),s?c.a.createElement("h1",null,"Loading posts.."):c.a.createElement(I.a.Group,null,u&&u.map(function(e){return c.a.createElement(A.a.Column,{key:e.id,style:{marginBottom:20}},c.a.createElement(W,{post:e}))}))))))}else r=c.a.createElement("p",null,"Loading post..");return r};function de(){var e=Object(D.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      id\n      email\n      username\n      createdAt\n      token\n    }\n  }\n"]);return de=function(){return e},e}var pe=M()(de()),Ee=function(e){var t=Object(o.useContext)(g),n=Object(o.useState)({}),a=Object(i.a)(n,2),r=a[0],l=a[1],m=Z(function(){b()},{username:"",password:""}),s=m.onChange,u=m.onSubmit,d=m.values,p=Object(y.a)(pe,{update:function(n,a){var r=a.data.login;t.login(r),e.history.push("/")},onError:function(e){l(e.graphQLErrors[0].extensions.exception.errors)},variables:d}),E=Object(i.a)(p,2),b=E[0],f=E[1].loading;return c.a.createElement("div",{className:"form-container"},c.a.createElement(H.a,{onSubmit:u,noValidate:!0,className:f?"loading":""},c.a.createElement("h1",null,"\u767b\u5165\u9875\u9762"),c.a.createElement(H.a.Input,{label:"\u7528\u6237\u540d",placeholder:"\u540d\u79f0...",name:"username",type:"text",value:d.username,error:!!r.username,onChange:s}),c.a.createElement(H.a.Input,{label:"\u5bc6\u7801",placeholder:"\u5bc6\u7801...",name:"password",type:"password",value:d.password,error:!!r.password,onChange:s}),c.a.createElement(S.a,{type:"submit",primary:!0},"\u767b\u5165")),Object.keys(r).length>0&&c.a.createElement("div",{className:"ui error message"},c.a.createElement("ul",{className:"list"},Object.values(r).map(function(e){return c.a.createElement("li",{key:e},e)}))))};function be(){var e=Object(D.a)(["\n  mutation register(\n    $username: String!\n    $email: String!\n    $password: String!\n    $confirmPassword: String!\n  ) {\n    register(\n      registerInput: {\n        username: $username\n        email: $email\n        password: $password\n        confirmPassword: $confirmPassword\n      }\n    ) {\n      id\n      email\n      username\n      createdAt\n      token\n    }\n  }\n"]);return be=function(){return e},e}var ge=M()(be()),fe=function(e){var t=Object(o.useContext)(g),n=Object(o.useState)({}),a=Object(i.a)(n,2),r=a[0],l=a[1],m=Z(function(){b()},{username:"",email:"",password:"",confirmPassword:""}),s=m.onChange,u=m.onSubmit,d=m.values,p=Object(y.a)(ge,{update:function(n,a){var r=a.data.register;t.login(r),e.history.push("/")},onError:function(e){l(e.graphQLErrors[0].extensions.exception.errors)},variables:d}),E=Object(i.a)(p,2),b=E[0],f=E[1].loading;return c.a.createElement("div",{className:"form-container"},c.a.createElement(H.a,{onSubmit:u,noValidate:!0,className:f?"loading":""},c.a.createElement("h1",null,"\u6ce8\u518c\u9875\u9762"),c.a.createElement(H.a.Input,{label:"\u7528\u6237\u540d",placeholder:"\u540d\u79f0...",name:"username",type:"text",value:d.username,error:!!r.username,onChange:s}),c.a.createElement(H.a.Input,{label:"\u90ae\u7bb1",placeholder:"\u90ae\u7bb1...",name:"email",type:"email",value:d.email,error:!!r.email,onChange:s}),c.a.createElement(H.a.Input,{label:"\u5bc6\u7801",placeholder:"\u5bc6\u7801...",name:"password",type:"password",value:d.password,error:!!r.password,onChange:s}),c.a.createElement(H.a.Input,{label:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",placeholder:"\u5bc6\u7801...",name:"confirmPassword",type:"password",value:d.confirmPassword,error:!!r.confirmPassword,onChange:s}),c.a.createElement(S.a,{type:"submit",primary:!0},"\u6ce8\u518c")),Object.keys(r).length>0&&c.a.createElement("div",{className:"ui error message"},c.a.createElement("ul",{className:"list"},Object.values(r).map(function(e){return c.a.createElement("li",{key:e},e)}))))};function ve(){var e=Object(D.a)(["\n  query($postId: ID!) {\n    getPost(postId: $postId) {\n      id\n      body\n      createdAt\n      username\n      likeCount\n      likes {\n        username\n      }\n      commentCount\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n    }\n  }\n"]);return ve=function(){return e},e}function he(){var e=Object(D.a)(["\n  mutation($postId: String!, $body: String!) {\n    createComment(postId: $postId, body: $body) {\n      id\n      comments {\n        id\n        body\n        createdAt\n        username\n      }\n      commentCount\n    }\n  }\n"]);return he=function(){return e},e}var je,Ce=M()(he()),Oe=M()(ve()),ye=function(e){var t,n=e.match.params.postId,a=Object(o.useContext)(g).user,r=Object(o.useRef)(null),l=Object(o.useState)(""),m=Object(i.a)(l,2),s=m[0],u=m[1],d=Object(y.b)(Oe,{variables:{postId:n}}).data.getPost,p=Object(y.a)(Ce,{update:function(){u(""),r.current.blur()},variables:{postId:n,body:s}}),E=Object(i.a)(p,1)[0];if(d){var b=d.id,f=d.body,v=d.createdAt,h=d.username,j=d.comments,C=d.likes,O=d.likeCount,I=d.commentCount;t=c.a.createElement(A.a,null,c.a.createElement(A.a.Row,null,c.a.createElement(A.a.Column,{width:2},c.a.createElement(w.a,{src:"https://react.semantic-ui.com/images/avatar/large/molly.png",size:"small",float:"right"})),c.a.createElement(A.a.Column,{width:10},c.a.createElement(k.a,{fluid:!0},c.a.createElement(k.a.Content,null,c.a.createElement(k.a.Header,null,h),c.a.createElement(k.a.Meta,null,P()(v).fromNow()),c.a.createElement(k.a.Description,null,f)),c.a.createElement("hr",null),c.a.createElement(k.a.Content,{extra:!0},c.a.createElement(U,{user:a,post:{id:b,likeCount:O,likes:C}}),c.a.createElement(R,{content:"Comment on post"},c.a.createElement(S.a,{as:"div",labelPosition:"right",onClick:function(){return console.log("Comment on post")}},c.a.createElement(S.a,{basic:!0,color:"blue"},c.a.createElement(N.a,{name:"comments"})),c.a.createElement(x.a,{basic:!0,color:"blue",pointing:"left"},I))),a&&a.username===h&&c.a.createElement(K,{postId:b,callback:function(){e.history.push("/")}}))),a&&c.a.createElement(k.a,{fluid:!0},c.a.createElement(k.a.Content,null,c.a.createElement("p",null,"Post a comment"),c.a.createElement(H.a,null,c.a.createElement("div",{className:"ui action input fluid"},c.a.createElement("input",{type:"text",placeholder:"Comment..",name:"comment",value:s,onChange:function(e){return u(e.target.value)},ref:r}),c.a.createElement("button",{type:"submit",className:"ui button teal",disabled:""===s.trim(),onClick:E},"Submit"))))),j.map(function(e){return c.a.createElement(k.a,{fluid:!0,key:e.id},c.a.createElement(k.a.Content,null,a&&a.username===e.username&&c.a.createElement(K,{postId:b,commentId:e.id}),c.a.createElement(k.a.Header,null,e.username),c.a.createElement(k.a.Meta,null,P()(e.createdAt).fromNow()),c.a.createElement(k.a.Description,null,e.body)))}))))}else t=c.a.createElement("p",null,"Loading post..");return t},Ae=n(312),Ie=n.n(Ae),ke=n(313),we=n.n(ke),Se=n(150),Ne=n.n(Se),xe=(n(535),function(e){var t=e.users;return c.a.createElement("div",{className:"textContainer_chat "},t?c.a.createElement("div",null,c.a.createElement("div",{className:"activeContainer_chat "},c.a.createElement("h2",null,t.map(function(e){var t=e.name;return c.a.createElement("div",{key:t,className:"activeItem_chat "},t,c.a.createElement("img",{alt:"Online Icon",src:Ne.a}))})))):null)}),$e=n(314),Pe=n.n($e),De=(n(569),n(199)),Be=n.n(De),Me=function(e){var t=e.message,n=t.text,a=t.user,r=!1,o=e.name.trim().toLowerCase();return a===o&&(r=!0),r?c.a.createElement("div",{className:"messageContainer justifyEnd"},c.a.createElement("p",{className:"sentText pr-10"},o),c.a.createElement("div",{className:"messageBox backgroundBlue"},c.a.createElement("p",{className:"messageText colorWhite"},Be.a.emojify(n)))):c.a.createElement("div",{className:"messageContainer justifyStart"},c.a.createElement("div",{className:"messageBox backgroundLight"},c.a.createElement("p",{className:"messageText colorDark"},Be.a.emojify(n))),c.a.createElement("p",{className:"sentText pl-10 "},a))},_e=(n(570),function(e){var t=e.messages,n=e.name;return c.a.createElement(Pe.a,{className:"messages"},t.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(Me,{message:e,name:n}))}))}),Re=n(315),Le=n.n(Re),Qe=(n(571),function(e){var t=e.room;return c.a.createElement("div",{className:"infoBar_chat"},c.a.createElement("div",{className:"leftInnerContainer_chat"},c.a.createElement("img",{className:"onlineIcon_chat",src:Ne.a,alt:"online icon"}),c.a.createElement("h3",null,t)),c.a.createElement("div",{className:"rightInnerContainer_chat"},c.a.createElement("a",{href:"/"},c.a.createElement("img",{src:Le.a,alt:"close icon"}))))}),Ue=(n(572),function(e){var t=e.setMessage,n=e.sendMessage,a=e.message;return c.a.createElement("form",{className:"form_chat"},c.a.createElement("input",{className:"input_chat",type:"text",placeholder:"Type a message...",value:a,onChange:function(e){var n=e.target.value;return t(n)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),c.a.createElement("button",{className:"sendButton_chat",onClick:function(e){return n(e)}},"Send"))}),Te=(n(573),"https://project-chat-application.herokuapp.com/"),Ge=function(e){var t=e.location,n=Object(o.useState)(""),a=Object(i.a)(n,2),r=a[0],l=a[1],m=Object(o.useState)(""),s=Object(i.a)(m,2),u=s[0],d=s[1],p=Object(o.useState)(""),E=Object(i.a)(p,2),b=E[0],g=E[1],f=Object(o.useState)(""),v=Object(i.a)(f,2),h=v[0],j=v[1],C=Object(o.useState)([]),O=Object(i.a)(C,2),y=O[0],A=O[1];Object(o.useEffect)(function(){var e=Ie.a.parse(t.search),n=e.name,a=e.room;je=we()(Te),d(a),l(n),je.emit("join",{name:n,room:a},function(e){e&&alert(e)})},[Te,t.search]),Object(o.useEffect)(function(){je.on("message",function(e){A(function(t){return[].concat(Object(z.a)(t),[e])})}),je.on("roomData",function(e){var t=e.users;g(t)})},[]);return c.a.createElement("div",{className:"outerContainer_chat"},c.a.createElement("div",{className:"container_chat"},c.a.createElement(Qe,{room:u}),c.a.createElement(_e,{messages:y,name:r}),c.a.createElement(Ue,{message:h,setMessage:j,sendMessage:function(e){e.preventDefault(),h&&je.emit("sendMessage",h,function(){return j("")})}})),c.a.createElement(xe,{users:b}))};n(574);function qe(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(""),m=Object(i.a)(r,2),s=m[0],u=m[1];return c.a.createElement("div",{className:"joinOuterContainer_chat"},c.a.createElement("div",{className:"joinInnerContainer_chat"},c.a.createElement("h1",{className:"heading"},"Join"),c.a.createElement("div",null,c.a.createElement("input",{placeholder:"Name",className:"joinInput_chat",type:"text",onChange:function(e){return a(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("input",{placeholder:"Room",className:"joinInput_chat mt-20_chat",type:"text",onChange:function(e){return u(e.target.value)}})),c.a.createElement(l.b,{onClick:function(e){return n&&s?null:e.preventDefault()},to:"/chat?name=".concat(n,"&room=").concat(s)},c.a.createElement("button",{className:"button_chat mt-20_chat",type:"submit"},"Sign In"))))}var Ye=function(){return c.a.createElement(v,null,c.a.createElement(l.a,null,c.a.createElement(s.a,null,c.a.createElement(O,null),c.a.createElement(m.b,{exact:!0,path:"/",component:ae}),c.a.createElement(j,{exact:!0,path:"/login",component:Ee}),c.a.createElement(j,{exact:!0,path:"/register",component:fe}),c.a.createElement(m.b,{exact:!0,path:"/posts/:postId",component:ye}),c.a.createElement(m.b,{exact:!0,path:"/profile",component:ue}),c.a.createElement(m.b,{path:"/join",exact:!0,component:qe}),c.a.createElement(m.b,{path:"/chat",component:Ge}))))},Ve=n(67),Fe=n(317),Je=n(319),Ke=n(30),We=n(318),ze=Object(Je.a)({uri:"http://120.53.220.237:5000"}),He=Object(We.a)(function(){var e=localStorage.getItem("jwtToken");return{headers:{Authorization:e?"Bearer ".concat(e):""}}}),Xe=new Ve.c({link:He.concat(ze),cache:new Fe.a}),Ze=c.a.createElement(Ke.a,{client:Xe},c.a.createElement(Ye,null));r.a.render(Ze,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[328,1,2]]]);
//# sourceMappingURL=main.1861729d.chunk.js.map